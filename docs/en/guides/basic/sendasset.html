<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Basic - Sending assets · neon-js</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="This is a basic tutorial to send assets using the `sendAsset` method."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Basic - Sending assets · neon-js"/><meta property="og:type" content="website"/><meta property="og:url" content="http://cityofzion.io/neon-js/index.html"/><meta property="og:description" content="This is a basic tutorial to send assets using the `sendAsset` method."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/neon-js/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://unpkg.com/@cityofzion/neon-js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener("DOMContentLoaded", function(){
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/neon-js/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/neon-js/en"><img class="logo" src="/neon-js/img/logo.svg" alt="neon-js"/><h2 class="headerTitleWithLogo">neon-js</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/neon-js/docs/en/installation.html" target="_self">Docs</a></li><li class=""><a href="/neon-js/docs/en/api/index.html" target="_self">API</a></li><li class=""><a href="/neon-js/docs/en/changelog/latest.html" target="_self">Changelog</a></li><li class=""><a href="/neon-js/en/help.html" target="_self">Help</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guides</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/structure.html">Structure</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul><li class="navListItem navListItemActive"><a class="navItem" href="/neon-js/docs/en/guides/basic/sendasset.html">Basic - Sending assets</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/guides/basic/claimgas.html">Basic - Claiming Gas</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/guides/basic/createscript.html">Basic - Create Smart Contract Script</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/guides/basic/invoke.html">Basic - Invoking a Smart Contract</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/guides/basic/privnet.html">Basic - Using a Private Net</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/guides/adv/multitx.html">Advanced - Sending multiple transactions in a block</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/guides/adv/apicore.html">Advanced - API Core Components</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/en/guides/adv/multisig.html">Advanced - Working with multi-sig contracts</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Basic - Sending assets</h1></header><article><div><span><p>This is a basic tutorial to send assets using the <code>sendAsset</code> method.</p>
<p><code>neon-js</code> provides out-of-the-box functionality for sending assets, claiming gas and invoking smart contracts. In this tutorial, I will be demonstrating how to use the high level functions to send some native assets.</p>
<p>For clarification, when we talk about assets, we are referring to native assets such as NEO or GAS. NEP5 tokens are not considered assets as they are records within smart contracts. Thus, this is not applicable for sending those tokens.</p>
<h2><a class="anchor" aria-hidden="true" id="creating-the-intent"></a><a href="#creating-the-intent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating the Intent</h2>
<p>To send an asset, we first have to create an <code>Intent</code>. This intent is represents the instructions to send assets to a specific address.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">import</span> Neon, { api, wallet } <span class="hljs-keyword">from</span> <span class="hljs-string">"@cityofzion/neon-js"</span>;

<span class="hljs-comment">// We want to send 1 NEO and 1 GAS to ALq7AWrhAueN6mJNqk6FHJjnsEoPRytLdW</span>
<span class="hljs-keyword">const</span> intent = api.makeIntent(
  { <span class="hljs-attr">NEO</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">GAS</span>: <span class="hljs-number">1</span> },
  <span class="hljs-string">"ALq7AWrhAueN6mJNqk6FHJjnsEoPRytLdW"</span>
);
<span class="hljs-built_in">console</span>.log(intent); <span class="hljs-comment">// This is an array of 2 Intent objects, one for each asset</span>
</code></pre>
<p>To add more intents, simply use the <code>api.makeIntent</code> to create them and concatenate them together in a single array.</p>
<h2><a class="anchor" aria-hidden="true" id="selecting-the-api-provider"></a><a href="#selecting-the-api-provider" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Selecting the API Provider</h2>
<p>We need to decide which provider shall we use. In this example, I shall be using <code>TestNet</code> with neoscan. As <code>TestNet</code> is built into the <code>neon-js</code> networks, we can retrieve it using its name <code>TestNet</code> instead of stating a url.</p>
<pre><code class="hljs css languages- js"><span class="hljs-comment">// This initializes the instance with url from settings.networks.TestNet</span>
<span class="hljs-keyword">const</span> apiProvider = <span class="hljs-keyword">new</span> api.neoscan.instance(<span class="hljs-string">"TestNet"</span>);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="create-account-object"></a><a href="#create-account-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Account object</h2>
<p>We create an <code>Account</code> object to store our credentials. In this example, we are using a private key to create the account because we are also signing with the same private key. However, if you wish to use an external signing function (such as a ledger), you can create the account with an address and provide the signing function instead.</p>
<p>This account will be the account where the assets will come from.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> acct = <span class="hljs-keyword">new</span> wallet.Account(
  <span class="hljs-string">"9ab7e154840daca3a2efadaf0df93cd3a5b51768c632f5433f86909d9b994a69"</span>
);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="setup-the-configuration-object"></a><a href="#setup-the-configuration-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup the configuration object</h2>
<p><code>sendAsset</code> accepts an configuration object that contains all the necessary details to construct the transaction.</p>
<pre><code class="hljs css languages- js"><span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">api</span>: apiProvider, <span class="hljs-comment">// The network to perform the action, MainNet or TestNet.</span>
  account: acct, <span class="hljs-comment">// This is the address which the assets come from.</span>
  intents: intent <span class="hljs-comment">// This is where you want to send assets to.</span>
};
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="send"></a><a href="#send" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Send</h2>
<pre><code class="hljs css languages- js">Neon.sendAsset(config)
  .then(<span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(config.response);
  })
  .catch(<span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(config);
  });
</code></pre>
<p><code>sendAsset</code> automatically does all the work in retrieving the balance, constructing the transaction, signing it and sending it off to the optimal node. When this is done, the promise returns the <code>config</code> object. The object is the same object passed in at the beginning with all the additional information used in the process appended to it. For example, the <code>url</code> field is the NEO node that sent the transaction to.</p>
<p>Here, we are interested in the <code>response</code> property, which contains the response from the RPC endpoint upon sending the transaction.</p>
<pre><code class="hljs css languages- js">{
  <span class="hljs-attr">result</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">txid</span>: <span class="hljs-string">'3be60dd2b3ce44d4e84f17519d0afce6372e269aafb9598e5b7be8230f6b6380'</span>
}
</code></pre>
<p>If the transaction is successful, the <code>txid</code> is attached in the response. We can take this string and use it in a block explorer to check out our transaction.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/neon-js/docs/en/structure.html">← Structure</a><a class="docs-next button" href="/neon-js/docs/en/guides/basic/claimgas.html">Basic - Claiming Gas →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#creating-the-intent">Creating the Intent</a></li><li><a href="#selecting-the-api-provider">Selecting the API Provider</a></li><li><a href="#create-account-object">Create Account object</a></li><li><a href="#setup-the-configuration-object">Setup the configuration object</a></li><li><a href="#send">Send</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/neon-js/" class="nav-home"><img src="/neon-js/img/logo.svg" alt="neon-js" width="66" height="58"/></a><div><h5>Docs</h5><a href="/neon-js/docs/en/installation.html">Getting Started</a><a href="/neon-js/docs/en/guides/basic/sendasset.html">Guides</a><a href="/neon-js/docs/en/api/index.html">API Reference</a></div><div><h5>Community</h5><a href="https://discord.gg/wczVXTN">Discord Chat</a><a href="https://www.reddit.com/r/NEO/" target="_blank">NEO Reddit</a></div><div><h5>More</h5><a href="https://neo.org/" target="_blank">NEO</a><a href="https://github.com/cityofzion/neon-js" target="_blank">GitHub</a><a class="github-button" href="https://github.com/cityofzion/neon-js" data-icon="octicon-star" data-count-href="/cityofzion/neon-js/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="http://cityofzion.io" target="_blank" class="fbOpenSource"><img src="/neon-js/img/coz_med.png" alt="City of Zion" width="150" height="150"/></a><section class="copyright">Copyright © 2018 City of Zion</section></footer></div></body></html>